<?xml version='1.0' ?>

<!-- ARGoS Configuration file -->

<argos-configuration>

	<!-- Basic Framework -->

	<framework>

		<system threads='0' />
		<experiment length='0' ticks_per_second='10' random_seed='256' />

	</framework>

	<!-- Controllers -->

	<controllers>

		<!-- C++ Controller -->

		<collective_transport_controller id='khivbz' library='build/testing/libcollective_transport'>
			<actuators>
				<differential_steering implementation='default' />
				<leds implementation='default' medium='leds' />
				<range_and_bearing implementation='default' />
			</actuators>
			<sensors>
				<kheperaiv_proximity implementation='default' show_rays='true' />
				<kheperaiv_ultrasound implementation='default' show_rays='true' />
				<positioning implementation='default' />
			</sensors>
			<params alpha='7.5' delta='0.1' velocity='5' />
		</collective_transport_controller>

	</controllers>

	<!-- Arena -->

	<arena size='10, 10, 2' center='0, 0, 0.5'>

		<!-- Boundary Walls -->
		<!-- Straight up, EAST! NORTH is to the left! -->

		<box id='wall_east' size='0.1, 10, 1' movable='false' mass='1.0'>
			<body position='4.95, 0, 0' orientation='0, 0, 0' />
		</box>

		<box id='wall_west' size='0.1, 10, 1' movable='false' mass='1.0'>
			<body position='-4.95, 0, 0' orientation='0, 0, 0' />
		</box>

		<box id='wall_south' size='9.8, 0.1, 1' movable='false' mass='1.0'>
			<body position='0, -4.95, 0' orientation='0, 0, 0' />
		</box>

		<box id='wall_north' size='9.8, 0.1, 1' movable='false' mass='1.0'>
			<body position='0, 4.95, 0' orientation='0, 0, 0' />
		</box>

		<!-- Object -->

		<box id='object' size='0.2, 0.2, 0.1' movable='true' mass='0.001'>
			<body position='-4, 4, 0' orientation='0, 0, 0' />
		</box>

		<!-- Robots -->

		<kheperaiv id='khiv0'>
			<body position='-3.79, 4.0, 0' orientation='0, 0, 0' />
			<controller config='khivbz' />
		</kheperaiv>

		<kheperaiv id='khiv1'>
			<body position='-3.895, 4.18186533479, 0' orientation='0, 0, 0' />
			<controller config='khivbz' />
		</kheperaiv>

		<kheperaiv id='khiv2'>
			<body position='-4.105, 4.18186533479, 0' orientation='0, 0, 0' />
			<controller config='khivbz' />
		</kheperaiv>

		<kheperaiv id='khiv3'>
			<body position='-4.21, 4.0, 0' orientation='0, 0, 0' />
			<controller config='khivbz' />
		</kheperaiv>

		<kheperaiv id='khiv4'>
			<body position='-4.105, 3.81813466521, 0' orientation='0, 0, 0' />
			<controller config='khivbz' />
		</kheperaiv>

		<kheperaiv id='khiv5'>
			<body position='-3.895, 3.81813466521, 0' orientation='0, 0, 0' />
			<controller config='khivbz' />
		</kheperaiv>

		<!-- Goal -->

		<box id='goal' size='0.2, 0.2, 0.0001' movable='true' mass='0.0001'>
			<body position='4, -4, 0' orientation='0, 0, 0' />
		</box>

		<!-- Obstacles -->

		<box id='obs0' size='0.485766563509, 2.01423343649, 0.5' movable='false' mass='1.0'>
			<body position='-0.367492759723, -0.228050491216, 0' orientation='0, 0, 0' />
		</box>

		<box id='obs1' size='0.0973460659048, 2.4026539341, 0.5' movable='false' mass='1.0'>
			<body position='-1.7916618584, 1.99368797817, 0' orientation='0, 0, 0' />
		</box>

		<box id='obs2' size='0.631099411824, 1.86890058818, 0.5' movable='false' mass='1.0'>
			<body position='-0.362056967797, -1.54350405722, 0' orientation='0, 0, 0' />
		</box>

		<box id='obs3' size='0.616272775489, 1.88372722451, 0.5' movable='false' mass='1.0'>
			<body position='-1.00403288699, -0.709523414535, 0' orientation='0, 0, 0' />
		</box>

		<box id='obs4' size='1.36930678663, 1.13069321337, 0.5' movable='false' mass='1.0'>
			<body position='-0.505512236605, -1.92244945151, 0' orientation='0, 0, 0' />
		</box>

		<cylinder id='cyl' height='0.01' radius='0.01' movable='false' mass='1.0'>
			<body position='4.5, 4.5, 0' orientation='0, 0, 0' />
		</cylinder>

	</arena>

	<!-- Physics Engine -->

	<physics_engines>
		<dynamics2d id='dyn2d' />
	</physics_engines>

	<!-- Loop Functions -->

	<loop_functions library='build/testing/libtrajectory_loop_functions' label='trajectory_loop_functions' />

	<!-- Communication Media -->

	<media>
		<range_and_bearing id='rab' />
		<led id='leds' />
	</media>

	<!-- Visualization -->

	<visualization>
		<qt-opengl>

			<!-- User Functions -->

			<user_functions library='build/testing/libtrajectory_loop_functions' label='trajectory_qtuser_functions' />

			<camera>
				<placement idx="0" position="-5.39411,2.025,5.39411" look_at="-4.68701,2.025,4.68701" up="0.707107,0,0.707107" lens_focal_length="20" />
			</camera>

		</qt-opengl>
	</visualization>

</argos-configuration>
